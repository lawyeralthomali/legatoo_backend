# 📁 Cases Directory - مجلد القضايا

هذا المجلد يحتوي على ملفات JSON للقضايا القانونية الجاهزة للرفع إلى قاعدة البيانات.

---

## 📝 بنية ملف JSON

يجب أن يكون كل ملف JSON بالشكل التالي:

```json
{
  "legal_cases": [
    {
      "case_number": "رقم القضية",
      "title": "عنوان القضية",
      "description": "وصف مختصر",
      "jurisdiction": "الرياض",
      "court_name": "اسم المحكمة",
      "decision_date": "2024-03-15",
      "case_type": "مدني",
      "court_level": "ابتدائي",
      "sections": [
        {
          "section_type": "summary",
          "content": "ملخص القضية..."
        },
        {
          "section_type": "facts",
          "content": "وقائع القضية..."
        },
        {
          "section_type": "arguments",
          "content": "حجج الأطراف..."
        },
        {
          "section_type": "ruling",
          "content": "الحكم..."
        },
        {
          "section_type": "legal_basis",
          "content": "الأساس القانوني..."
        }
      ]
    }
  ],
  "processing_report": {
    "total_cases": 1,
    "warnings": [],
    "errors": [],
    "suggestions": []
  }
}
```

---

## 📊 الحقول المطلوبة

### القضية (Case)

| الحقل | النوع | مطلوب | الوصف |
|------|------|-------|-------|
| `case_number` | string | ✅ | رقم القضية |
| `title` | string | ✅ | عنوان القضية |
| `description` | string | ✅ | وصف مختصر |
| `jurisdiction` | string | ⚠️ | الجهة القضائية (مثل: الرياض، جدة) |
| `court_name` | string | ⚠️ | اسم المحكمة |
| `decision_date` | string | ⚠️ | تاريخ الحكم (YYYY-MM-DD أو هجري) |
| `case_type` | string | ⚠️ | نوع القضية |
| `court_level` | string | ⚠️ | درجة المحكمة |
| `sections` | array | ✅ | أقسام القضية |

### أنواع القضايا (`case_type`)
- `مدني` - قضايا مدنية
- `جنائي` - قضايا جنائية
- `تجاري` - قضايا تجارية
- `عمل` - قضايا عمالية
- `إداري` - قضايا إدارية
- `أحوال شخصية` - قضايا الأحوال الشخصية

### درجات المحاكم (`court_level`)
- `ابتدائي` - محكمة ابتدائية
- `استئناف` - محكمة استئناف
- `تمييز` - محكمة التمييز
- `عالي` - محكمة عليا

### أنواع الأقسام (`section_type`)
- `summary` - ملخص القضية
- `facts` - وقائع القضية
- `arguments` - حجج الأطراف
- `ruling` - الحكم
- `legal_basis` - الأساس القانوني
- `analysis` - التحليل (اختياري)
- `notes` - ملاحظات (اختياري)

---

## 🚀 كيفية الاستخدام

### 1️⃣ إضافة قضية جديدة

1. أنشئ ملف JSON جديد في هذا المجلد
2. اتبع البنية الموضحة أعلاه
3. **تأكد من عدم وجود comments في JSON** (لا تستخدم `//`)

### 2️⃣ رفع القضايا

من المجلد الرئيسي `data_set/`:

```bash
python batch_upload_cases.py
```

السكريبت سيقوم بـ:
- ✅ قراءة جميع ملفات JSON من مجلد `cases/`
- ✅ إزالة أي comments تلقائياً
- ✅ التحقق من صحة البيانات
- ✅ رفعها إلى قاعدة البيانات

---

## ⚠️ ملاحظات مهمة

### ❌ لا تفعل:
```json
{
  "case_type": "عمل",  // هذا تعليق - ممنوع!
  "court_level": "ابتدائي"  /* تعليق آخر - ممنوع! */
}
```

### ✅ افعل:
```json
{
  "case_type": "عمل",
  "court_level": "ابتدائي"
}
```

---

## 📝 مثال كامل

راجع الملفات الموجودة:
- `1,json` - قضية تجارية (إيجار)
- `../sample_case_upload.json` - قضايا متعددة

---

## 🔍 التحقق من صحة JSON

قبل الرفع، تأكد من صحة JSON:

```bash
# في المجلد الرئيسي
python -m json.tool data_set/cases/your_file.json
```

إذا لم تظهر أخطاء، فالملف صحيح!

---

## 📊 معلومات إضافية

- **الترميز**: يجب أن تكون جميع الملفات UTF-8
- **التواريخ**: يمكن استخدام التاريخ الهجري أو الميلادي
- **الأحجام**: لا يوجد حد أقصى لعدد القضايا في ملف واحد

---

## 🆘 استكشاف الأخطاء

### خطأ: "JSON decode error"
- **السبب**: وجود comments أو خطأ في بنية JSON
- **الحل**: استخدم `batch_upload_cases.py` الذي ينظف الـ comments تلقائياً

### خطأ: "Missing required field"
- **السبب**: نقص حقل مطلوب
- **الحل**: تأكد من وجود جميع الحقول المطلوبة (✅)

### خطأ: "Validation failed"
- **السبب**: بيانات غير صحيحة
- **الحل**: راجع نوع القضية ودرجة المحكمة

---

**تم إنشاء هذا المجلد**: 8 أكتوبر 2025  
**آخر تحديث**: 8 أكتوبر 2025
